// Copyright ¬© SixtyFPS GmbH <info@slint-ui.com>
// SPDX-License-Identifier: GPL-3.0-only OR LicenseRef-Slint-commercial

import { Logic, Label, Page } from "common.slint";
import { Button, GridBox, HorizontalBox, LineEdit, TabWidget, VerticalBox} from "std-widgets.slint";

export component SettingsPage inherits Page {
    header: "ËÆæÁΩÆ";

    VerticalBox {
        padding-top: 46px /* header line height in design */
                   + 27px /* extra top-padding in design */ ;
        TabWidget { 
            Tab{
                title: "ÊØèÊó•ÁªüËÆ°Ë°®";
                VerticalBox {
                    alignment: start;
                    HorizontalBox {
                        GridBox {
                            spacing: 24px;
                            Row {
                                HorizontalBox {
                                    Label { text: "Â∑•Âè∑Ôºö"; width: 130px;}
                                    LineEdit {
                                        placeholder-text: "Á¨¨Âá†Âàó";
                                        text <=> Logic.statistics-employee-id-col;
                                    }
                                    Rectangle {horizontal-stretch: 1;}
                                }
                                HorizontalBox {
                                    Label { text: "ËÄÉÂã§Êó•ÊúüÔºö"; width: 130px; }
                                    LineEdit {
                                        vertical-stretch: 0;
                                        placeholder-text: "Á¨¨Âá†Âàó";
                                        text <=> Logic.statistics-date-col;
                                    }
                                    Rectangle {horizontal-stretch: 1;}
                                }
                            }
                            Row{
                                HorizontalBox {
                                    Label { text: "‰∏äÁè≠ÊâìÂç°ÁªìÊûúÔºö"; width: 130px; }
                                    LineEdit {
                                        placeholder-text: "Á¨¨Âá†Âàó";
                                        text <=> Logic.statistics-enter-result-col;
                                    }
                                    Rectangle {horizontal-stretch: 1;}
                                }
                                HorizontalBox {
                                    Label { text: "‰∏ãÁè≠ÊâìÂç°ÁªìÊûúÔºö"; width: 130px; }
                                    LineEdit {
                                        placeholder-text: "Á¨¨Âá†Âàó";
                                        text <=> Logic.statistics-leave-result-col;
                                    }
                                    Rectangle {horizontal-stretch: 1;}
                                }
                            }
                            Row{
                                HorizontalBox {
                                    Label { text: "Â∑•‰ΩúÊó∂Èïø(ÂàÜÈíü)Ôºö"; width: 130px; }
                                    LineEdit {
                                        placeholder-text: "Á¨¨Âá†Âàó";
                                        text <=> Logic.statistics-work-minutes-col;
                                    }
                                    Rectangle {horizontal-stretch: 1;}
                                }
                                HorizontalBox {
                                    Label { text: "Êï∞ÊçÆËµ∑ÂßãË°åÂè∑Ôºö"; width: 130px;  }
                                    LineEdit {
                                        placeholder-text: "Á¨¨Âá†Ë°å";
                                        text <=> Logic.statistics-start-row;
                                    }
                                    Rectangle {horizontal-stretch: 1;}
                                }
                            }
                        }
                    }
                    HorizontalBox {
                        alignment: center;
                        Button {
                            text: "üìÇÂØºÂÖ•ÊØèÊó•ÁªüËÆ°Ë°®";
                            enabled: Logic.button_enabled;
                            clicked => {
                                Logic.button_enabled = false;
                                Logic.statistics-import-clicked();
                            }
                        }
                    }
                }
            }

            Tab{
                title: "ÂéüÂßãËÆ∞ÂΩïË°®";
                VerticalBox {
                    alignment: start;
                    HorizontalBox {
                        GridBox {
                            spacing: 24px;
                            
                            Row {
                                HorizontalBox {
                                    Label { text: "Â∑•Âè∑Ôºö"; width: 130px;  }
                                    LineEdit {
                                        placeholder-text: "Á¨¨Âá†Âàó";
                                        text <=> Logic.record-employee-id-col;
                                    }
                                    Rectangle {horizontal-stretch: 1;}
                                }
                                HorizontalBox {
                                    Label { text: "ËÄÉÂã§Êó•ÊúüÔºö"; width: 130px;  }
                                    LineEdit {
                                        placeholder-text: "Á¨¨Âá†Âàó";
                                        text <=> Logic.record-date-col;
                                    }
                                    Rectangle {horizontal-stretch: 1;}
                                }
                            }
                            Row {
                                HorizontalBox {
                                    Label { text: "ÂºÇÂ∏∏ÊâìÂç°ÂéüÂõ†Ôºö"; width: 130px;  }
                                    LineEdit {
                                        placeholder-text: "Á¨¨Âá†Âàó";
                                        text <=> Logic.record-abnormal-reason-col;
                                    }
                                    Rectangle {horizontal-stretch: 1;}
                                }
                                HorizontalBox {
                                    Label { text: "Êï∞ÊçÆËµ∑ÂßãË°åÂè∑Ôºö"; width: 130px;  }
                                    LineEdit {
                                        placeholder-text: "Á¨¨Âá†Ë°å";
                                        text <=> Logic.record-start-row;
                                    }
                                    Rectangle {horizontal-stretch: 1;}
                                }
                            }
                        }
                    }
                    HorizontalBox {
                        alignment: center;
                        Button {
                            text: "üìÇÂØºÂÖ•ÂéüÂßãËÆ∞ÂΩïË°®";
                            enabled: Logic.button_enabled;
                            clicked => {
                                Logic.button_enabled = false;
                                Logic.record-import-clicked();
                            }
                        }
                    }
                }
            }

            Tab{
                title: "Ê®°Êùø";
                VerticalBox {
                    HorizontalBox{
                        col1 := Label {
                            text: "SheetÂ∫èÂè∑"; 
                            horizontal-alignment: center;
                            horizontal-stretch: 0.6;
                        }
                        col2 := Label {
                            text: "Â∑•Âè∑ÂØπÂ∫îÂàóÔºàÂ≠óÊØçÔºâ";
                            horizontal-alignment: center;
                            horizontal-stretch: 1;
                        }
                        col3 := Label {
                            text: "Êï∞ÊçÆËµ∑ÂßãÂàóÔºàÂ≠óÊØçÔºâ";
                            horizontal-alignment: center;
                            horizontal-stretch: 1;
                        }
                        col4 := Label {
                            text: "Ë°®Â§¥ÊâÄÂú®Ë°åÔºàÊï∞Â≠óÔºâ";
                            horizontal-alignment: center;
                            horizontal-stretch: 1;
                        }
                        col5 := Label {
                            text: "Êìç‰Ωú";
                            horizontal-alignment: center;
                            horizontal-stretch: 0.5;
                        }
                    }
                    for cfg[index] in Logic.template-configs: HorizontalBox {
                        Label {
                            width: col1.width;
                            horizontal-alignment: center;
                            text: index;
                        }
                        HorizontalBox {
                            width: col2.width;
                            alignment: center;
                            LineEdit {
                                placeholder-text: "Á¨¨Âá†Âàó";
                                text: cfg.template-employee-id-col;
                                edited => {
                                    Logic.template-configs[index].template-employee-id-col = self.text;
                                }
                            }
                        }
                        HorizontalBox {
                            width: col3.width;
                            alignment: center;
                            LineEdit {
                                placeholder-text: "Á¨¨Âá†Âàó";
                                text: cfg.template-start-col;
                                edited => {
                                    Logic.template-configs[index].template-start-col = self.text;
                                }
                            }
                        }
                        HorizontalBox {
                            width: col4.width;
                            alignment: center;
                            LineEdit {
                                placeholder-text: "Á¨¨Âá†Ë°å";
                                text: cfg.template-title-row;
                                edited => {
                                    Logic.template-configs[index].template-title-row = self.text;
                                }
                            }
                        }
                        HorizontalBox {
                            width: col5.width;  
                            alignment: center;
                            Button {
                                text: "-";
                                enabled: Logic.button_enabled;
                                clicked => {
                                    Logic.button_enabled = false;
                                    Logic.template-remove-clicked(index);
                                }
                            }
                        }
                        
                    }
                    HorizontalBox {
                        HorizontalBox {
                            alignment: center;
                            width: col1.width;
                            Button {
                                text: "+";
                                enabled: Logic.button_enabled;
                                clicked => {
                                    Logic.button_enabled = false;
                                    Logic.template-push-clicked();
                                }
                            }
                        }
                    }
                    Rectangle {vertical-stretch: 1;}
                }
            }
        }
    }

}
