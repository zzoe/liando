import {Button, HorizontalBox, LineEdit, TextEdit, VerticalBox } from "std-widgets.slint";

export component App inherits Window {
    //æ—¶é—´
    in-out property<string> start_date <=> start_date_edit.text;
    in-out property<string> end_date <=> end_date_edit.text;

    //æŒ‰é’®ç»Ÿä¸€æ§åˆ¶
    in-out property <bool> button_enabled: true;

    //æ–‡ä»¶é€‰æ‹©
    in-out property<string> statistics_file <=> statistics_file_edit.text;
    callback statistics_select_clicked;
    in-out property<string> record_file <=> record_file_edit.text;
    callback record_select_clicked;

    //æˆæƒä¿¡æ¯
    out property<string> authorization <=> authorization_edit.text;

    //ç”ŸæˆæŒ‰é’®
    callback execute_clicked;

    //ç»“æœ
    in property<string> tasks <=> tasks_text.text;

    preferred-width: 800px;
    preferred-height: 600px;

    VerticalBox {
        HorizontalBox {
            Text {
                text: "å¼€å§‹æ—¥æœŸ:";
                vertical-alignment: center;
            }
            start_date_edit := LineEdit {
                placeholder-text: "è¯·è¾“å…¥å¼€å§‹æ—¥æœŸ";
            }
            Text {
                text: "ç»“æŸæ—¥æœŸ:";
                vertical-alignment: center;
            }
            end_date_edit := LineEdit {
                placeholder-text: "è¯·è¾“å…¥ç»“æŸæ—¥æœŸ";
            }
        }

        HorizontalBox {
            Text {
                text: "è€ƒå‹¤æ¯æ—¥ç»Ÿè®¡è¡¨:";
                vertical-alignment: center;
            }
            statistics_file_edit := LineEdit {
                placeholder-text: "è¯·è¾“å…¥è€ƒå‹¤æ¯æ—¥ç»Ÿè®¡è¡¨æ–‡ä»¶åœ°å€";
            }
            Button {
                text: "ğŸ“‚";
                enabled: root.button_enabled;
                clicked => {
                    root.button_enabled = false;
                    root.statistics_select_clicked();
                }
            }
        }

        HorizontalBox {
            Text {
                text: "è€ƒå‹¤åŸå§‹è®°å½•è¡¨:";
                vertical-alignment: center;
            }
            record_file_edit := LineEdit {
                placeholder-text: "è¯·è¾“å…¥è€ƒå‹¤åŸå§‹è®°å½•è¡¨æ–‡ä»¶åœ°å€";
            }
            Button {
                text: "ğŸ“‚";
                enabled: root.button_enabled;
                clicked => {
                    root.button_enabled = false;
                    root.record_select_clicked();
                }
            }
        }

        HorizontalBox {
            Text {
                text: "Authorization:";
                vertical-alignment: center;
            }
            authorization_edit := LineEdit {
                placeholder-text: "ä»æµè§ˆå™¨F12-ç½‘ç»œä¸­æ‰¾åˆ°ä»»æ„è¯·æ±‚æ ‡å¤´çš„Authorizationæ•°æ®";
            }
        }

        HorizontalBox {
            Button {
                text: "ç”Ÿæˆ";
                enabled: root.button_enabled;
                clicked => {
                    root.button_enabled = false;
                    root.execute_clicked();
                }
            }
        }

        VerticalBox {
            tasks_text := TextEdit{
                read-only: true;
            }
        }
    }
}
